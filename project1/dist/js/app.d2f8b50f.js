(function(e){function t(t){for(var a,c,i=t[0],n=t[1],l=t[2],h=0,m=[];h<i.length;h++)c=i[h],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&m.push(s[c][0]),s[c]=0;for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,i=1;i<r.length;i++){var n=r[i];0!==s[n]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=r[0]))}return e}var a={},s={app:0},o=[];function c(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=a,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(r,a,function(t){return e[t]}.bind(null,a));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],n=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=n;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"046c":function(e,t,r){},1550:function(e,t,r){e.exports=r.p+"img/3.7035be3b.svg"},"1b42":function(e,t,r){e.exports=r.p+"img/fabric.97719d99.png"},"3e23":function(e,t,r){e.exports=r.p+"img/1.a7180db1.svg"},"454e":function(e,t,r){"use strict";r("9208")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-link",{attrs:{to:"/allorders"}}),r("router-view")],1)},o=[],c={name:"app",data:function(){return{user_name:"User",page_name:"yyyy"}}},i=c,n=r("2877"),l=Object(n["a"])(i,s,o,!1,null,null,null),u=l.exports,h=r("8c4f"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"placeorder"},[r("div",{staticClass:"banner"},[r("el-button",{staticClass:"new_butt",attrs:{type:"primary",plain:""},on:{click:function(t){return e.newOrder()}}},[e._v("清空資料")]),r("div",{staticClass:"progress"},[r("el-button",{attrs:{type:"text",id:"1"},on:{click:function(t){return e.changeStatus(1)}}},[e._v("新建訂單")]),r("el-divider",{attrs:{direction:"vertical"}}),r("el-button",{attrs:{type:"text",id:"2"},on:{click:function(t){return e.changeStatus(2)}}},[e._v("供應商簽署")]),r("el-divider",{attrs:{direction:"vertical"}}),r("el-button",{attrs:{type:"text",id:"3"},on:{click:function(t){return e.changeStatus(4)}}},[e._v("供應商交貨")]),r("el-divider",{attrs:{direction:"vertical"}}),r("el-button",{attrs:{type:"text",id:"4"},on:{click:function(t){return e.changeStatus(5)}}},[e._v("驗貨")]),r("el-divider",{attrs:{direction:"vertical"}}),r("el-button",{attrs:{type:"text",id:"5"},on:{click:function(t){return e.changeStatus(6)}}},[e._v("供應商交貨完成")]),r("el-divider",{attrs:{direction:"vertical"}}),r("el-button",{attrs:{type:"text",id:"6"},on:{click:function(t){return e.changeStatus(7)}}},[e._v("中心廠確認交貨完成")]),r("el-divider",{attrs:{direction:"vertical"}}),r("el-button",{attrs:{type:"text",id:"7"},on:{click:function(t){return e.changeStatus(8)}}},[e._v("供應商開立發票")]),r("el-divider",{attrs:{direction:"vertical"}}),r("el-button",{attrs:{type:"text",id:"8"},on:{click:function(t){return e.changeStatus(9)}}},[e._v("中心廠確認發票開立")]),r("el-divider",{attrs:{direction:"vertical"}}),r("el-button",{attrs:{type:"text",id:"9"},on:{click:function(t){return e.changeStatus(10)}}},[e._v("中心廠確認訂單完成")])],1),r("h4",{staticClass:"greeting"},[e._v("Hello, "+e._s(e.user_name))]),r("div",{staticClass:"account"},[r("el-dropdown",[r("el-button",{attrs:{type:"primary"}},[e._v(" 我的帳號"),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",[e._v("所有訂單")]),r("el-dropdown-item",[e._v("帳號管理")])],1)],1)],1)],1),r("div",{staticClass:"input"},[r("el-form",{ref:"form",staticStyle:{height:"690px",overflow:"auto",scroll:"auto"},attrs:{model:e.form,"label-width":"130px",size:"small",rules:e.rule}},[r("div",{staticClass:"info"},[r("h2",[e._v("訂單資訊")]),r("div",{staticClass:"list"},[r("el-form-item",{attrs:{label:"訂單編號",prop:"key"}},[r("el-input",{attrs:{id:"a1"},model:{value:e.form.key,callback:function(t){e.$set(e.form,"key",t)},expression:"form.key"}})],1),r("el-form-item",{attrs:{label:"流程狀態",prop:"process"}},[r("el-input",{attrs:{id:"a2"},model:{value:e.form.process,callback:function(t){e.$set(e.form,"process",t)},expression:"form.process"}})],1),r("el-form-item",{attrs:{label:"交貨急迫性",prop:"urgent"}},[r("el-input",{attrs:{id:"a3"},model:{value:e.form.urgent,callback:function(t){e.$set(e.form,"urgent",t)},expression:"form.urgent"}})],1),r("el-form-item",{attrs:{label:"訂單日期",prop:"odate"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",id:"a4",clearable:!1},model:{value:e.form.odate,callback:function(t){e.$set(e.form,"odate",t)},expression:"form.odate"}})],1),r("el-form-item",{attrs:{label:"預交日期",prop:"ddate"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",id:"a5",clearable:!1},model:{value:e.form.ddate,callback:function(t){e.$set(e.form,"ddate",t)},expression:"form.ddate"}})],1),r("el-form-item",{attrs:{label:"採購人員",prop:"purchase"}},[r("el-input",{attrs:{id:"a6"},model:{value:e.form.purchase,callback:function(t){e.$set(e.form,"purchase",t)},expression:"form.purchase"}})],1),r("el-form-item",{attrs:{label:"供應商代號",prop:"sname"}},[r("el-input",{attrs:{id:"a7"},model:{value:e.form.sname,callback:function(t){e.$set(e.form,"sname",t)},expression:"form.sname"}})],1),r("el-form-item",{attrs:{label:"供應商名稱",prop:"supplier"}},[r("el-input",{attrs:{id:"a8"},model:{value:e.form.supplier,callback:function(t){e.$set(e.form,"supplier",t)},expression:"form.supplier"}})],1),r("el-form-item",{attrs:{label:"供應商簽署人員",prop:"signer"}},[r("el-input",{attrs:{id:"a9"},model:{value:e.form.signer,callback:function(t){e.$set(e.form,"signer",t)},expression:"form.signer"}})],1),r("el-form-item",{attrs:{label:"發票號碼",prop:"invoice"}},[r("el-input",{attrs:{id:"a10"},model:{value:e.form.invoice,callback:function(t){e.$set(e.form,"invoice",t)},expression:"form.invoice"}})],1)],1),r("div",{staticClass:"book"},[r("el-form-item",{attrs:{label:"品名",prop:"pname"}},[r("el-input",{attrs:{id:"a11"},model:{value:e.form.pname,callback:function(t){e.$set(e.form,"pname",t)},expression:"form.pname"}})],1),r("el-form-item",{attrs:{label:"單價",prop:"price"}},[r("el-input",{attrs:{id:"a12"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),r("el-form-item",{attrs:{label:"數量",prop:"pquantity"}},[r("el-input",{attrs:{id:"a13"},model:{value:e.form.pquantity,callback:function(t){e.$set(e.form,"pquantity",t)},expression:"form.pquantity"}})],1),r("el-form-item",{attrs:{label:"總金額"}},[r("span",[e._v(e._s(this.form.price*this.form.pquantity))])]),r("el-form-item",{attrs:{label:"備註",prop:"note"}},[r("el-input",{attrs:{type:"textarea",rows:"14","show-word-limit":"",id:"a14"},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note",t)},expression:"form.note"}})],1)],1)]),r("div",{staticClass:"book2"},[r("h2",[e._v("交貨單")]),r("el-form-item",{attrs:{label:"交貨日期",prop:"sdate"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",id:"b1",clearable:!1},model:{value:e.form.sdate,callback:function(t){e.$set(e.form,"sdate",t)},expression:"form.sdate"}})],1),r("el-form-item",{attrs:{label:"數量",prop:"amount"}},[r("el-input",{attrs:{id:"b2"},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}})],1)],1),r("div",{staticClass:"book3"},[r("h2",[e._v("驗貨單")]),r("el-form-item",{attrs:{label:"不良品",prop:"bad"}},[r("el-input",{attrs:{id:"c1"},model:{value:e.form.bad,callback:function(t){e.$set(e.form,"bad",t)},expression:"form.bad"}})],1),r("el-form-item",{attrs:{label:"不良品備註",prop:"bnote"}},[r("el-input",{attrs:{id:"c2"},model:{value:e.form.bnote,callback:function(t){e.$set(e.form,"bnote",t)},expression:"form.bnote"}})],1)],1),r("div",{staticClass:"book4"},[r("h2",[e._v("交貨資訊")]),r("el-form-item",{attrs:{label:"已交貨總數",prop:"volume"}},[r("el-input",{attrs:{id:"d1"},model:{value:e.form.volume,callback:function(t){e.$set(e.form,"volume",t)},expression:"form.volume"}})],1),r("el-form-item",{attrs:{label:"未交貨總數",prop:"ntraded"}},[r("el-input",{attrs:{id:"d2"},model:{value:e.form.ntraded,callback:function(t){e.$set(e.form,"ntraded",t)},expression:"form.ntraded"}})],1),r("el-form-item",{attrs:{label:"不良品總數",prop:"sbad"}},[r("el-input",{attrs:{id:"d3"},model:{value:e.form.sbad,callback:function(t){e.$set(e.form,"sbad",t)},expression:"form.sbad"}})],1)],1),r("div",{staticClass:"checkbox"},[r("el-checkbox",{attrs:{id:"e1",disabled:e.checkDisable.check1},model:{value:e.form.oestablished,callback:function(t){e.$set(e.form,"oestablished",t)},expression:"form.oestablished"}},[e._v("訂單接受")]),r("el-checkbox",{attrs:{id:"e2",disabled:e.checkDisable.check2},model:{value:e.form.ocargo,callback:function(t){e.$set(e.form,"ocargo",t)},expression:"form.ocargo"}},[e._v("交貨完成")]),r("el-checkbox",{attrs:{id:"e3",disabled:e.checkDisable.check3},model:{value:e.form.ccargo,callback:function(t){e.$set(e.form,"ccargo",t)},expression:"form.ccargo"}},[e._v("確認交貨完成")]),r("br"),r("el-checkbox",{attrs:{id:"e4",disabled:e.checkDisable.check4},model:{value:e.form.bill,callback:function(t){e.$set(e.form,"bill",t)},expression:"form.bill"}},[e._v("發票開立")]),r("el-checkbox",{attrs:{id:"e5",disabled:e.checkDisable.check5},model:{value:e.form.cbill,callback:function(t){e.$set(e.form,"cbill",t)},expression:"form.cbill"}},[e._v("確認發票開立")]),r("el-checkbox",{attrs:{id:"e6",disabled:e.checkDisable.check6},model:{value:e.form.finish,callback:function(t){e.$set(e.form,"finish",t)},expression:"form.finish"}},[e._v("訂單完成")])],1),r("el-form-item",{staticClass:"send"},[r("el-button",{attrs:{type:"primary",disabled:e.checkDisable.check7},on:{click:function(t){return e.onSubmit()}}},[e._v("儲存訂單")]),r("el-button",{attrs:{disabled:e.checkDisable.check8},on:{click:function(t){return e.cancel()}}},[e._v("取消更改")])],1)],1)],1),r("div",{staticClass:"menu"},[r("el-menu",{staticClass:"el-menu-vertical-demo undone",staticStyle:{height:"41%",overflow:"auto",scroll:"auto"},attrs:{"default-active":"1"}},[r("el-submenu",{attrs:{index:"100"}},[r("template",{slot:"title"},[e._v("未完成訂單")]),e._l(e.undone,(function(t,a){return r("el-submenu",{key:a,attrs:{index:String(a)}},[r("template",{slot:"title"},[r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.showCurrentHistory(t)}}},[e._v("訂單"+e._s(t.key))])],1),r("el-timeline",{staticStyle:{height:"150px",overflow:"auto",scroll:"auto"}},e._l(t.Historys,(function(t,a){return r("el-timeline-item",{key:a,attrs:{timestamp:e.showWhichOne(t.Report.process)}},[r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.showUndoneHistory(t.Report)}}},[e._v(e._s(t.Report.process))])],1)})),1)],2)}))],2)],1),r("el-input",{staticClass:"find",attrs:{placeholder:"搜尋","prefix-icon":"el-icon-search",clearable:""}}),r("el-menu",{staticClass:"el-menu-vertical-demo done",staticStyle:{height:"45%"},attrs:{"default-active":"2"}},[r("el-submenu",{attrs:{index:"200"}},[r("template",{slot:"title"},[e._v("已完成訂單")]),e._l(e.done,(function(t,a){return r("el-submenu",{key:a,attrs:{index:a}},[r("template",{slot:"title"},[r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.showCurrentHistory(t)}}},[e._v("訂單"+e._s(t.key))])],1),r("el-timeline",{staticStyle:{height:"150px",overflow:"auto",scroll:"auto"}},e._l(t.Historys,(function(t,a){return r("el-timeline-item",{key:a,attrs:{timestamp:e.showWhichOne(t.Report.process)}},[r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.showDoneHistory(t.Report)}}},[e._v(e._s(t.Report.process))])],1)})),1)],2)}))],2)],1)],1),r("router-view")],1)},d=[],p=r("c7eb"),f=r("1da1"),b=(r("d3b7"),r("159b"),{name:"placeorder",data:function(){return{text:"訂單編號",checkDisable:{check1:!1,check2:!1,check3:!1,check4:!1,check5:!1,check6:!1,check7:!1,check8:!1},url:"/createReports",proStatus:0,rule:{},temp:{},state:0,process:"",role:this.GLOBAL.role,user_name:this.GLOBAL.account,form:{key:"",process:"",urgent:"",odate:"",ddate:"",purchase:"",sname:"",supplier:"",signer:"",invoice:"",pname:"",pquantity:"",price:"",note:"",sdate:"",amount:"",bad:"",bnote:"",volume:"",ntraded:"",sbad:"",oestablished:!1,ocargo:!1,ccargo:!1,bill:!1,cbill:!1,finish:!1},done:[],undone:[]}},methods:{cancel:function(){var e=alert("要取消修改嗎？");e&&(this.form=this.data)},showWhichOne:function(e){var t="";return e?"發包中"===e||"簽署成功"===e||"驗貨中"===e||"確認交貨完成"===e?t="供應商":"交貨中"!==e&&"交貨完成"!==e&&"發票開立"!==e||(t="中心廠"):(console.log(e),t="中心廠"),t},showCurrentHistory:function(e){this.temp=e,this.form=e;var t=0;"發包中"==e.process&&(t=1),"簽署成功"==e.process&&(t=2),"交貨中"==e.process&&(t=4),"驗貨中"==e.process&&(t=5),"交貨完成"==e.process&&(t=6),"確認交貨完成"==e.process&&(t=7),"發票開立"==e.process&&(t=8),this.changeStatus(t)},showUndoneHistory:function(e){this.form=e;var t=["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","b1","b2","b3","b4","c1","c2","c3","d1","d2","e1","e2","e3","e4","e5","e6"];t.forEach((function(e){document.getElementById(e).disabled=!0,document.getElementById(e).style="background-color: #e6ecf5"})),this.buttonDisabled(10),this.checkDisable.check1=!1,this.checkDisable.check2=!1,this.checkDisable.check3=!1,this.checkDisable.check4=!1,this.checkDisable.check5=!1,this.checkDisable.check6=!1,this.checkDisable.check7=!0,this.checkDisable.check8=!0},showDoneHistory:function(e){this.form=e;var t=["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","b1","b2","b3","b4","c1","c2","c3","d1","d2","e1","e2","e3","e4","e5","e6"];t.forEach((function(e){document.getElementById(e).disabled=!0,document.getElementById(e).style="background-color: #e6ecf5"})),this.buttonDisabled(10),this.checkDisable.check1=!1,this.checkDisable.check2=!1,this.checkDisable.check3=!1,this.checkDisable.check4=!1,this.checkDisable.check5=!1,this.checkDisable.check6=!1,this.checkDisable.check7=!0,this.checkDisable.check8=!0},boolToStr:function(){this.form.oestablished=String(this.form.oestablished),this.form.ocargo=String(this.form.ocargo),this.form.ccargo=String(this.form.ccargo),this.form.bill=String(this.form.bill),this.form.cbill=String(this.form.cbill),this.form.finish=String(this.form.finish)},strToBool:function(e){"true"===e.oestablished?e.oestablished=!0:e.oestablished=!1,"true"===e.ocargo?e.ocargo=!0:e.ocargo=!1,"true"===e.ccargo?e.ccargo=!0:e.ccargo=!1,"true"===e.bill?e.bill=!0:e.bill=!1,"true"===e.cbill?e.cbill=!0:e.cbill=!1,"true"===e.finish?e.finish=!0:e.finish=!1},newOrder:function(){this.form={key:"",process:"",urgent:"",odate:"",ddate:"",purchase:"",sname:"",supplier:"",signer:"",invoice:"",pname:"",pquantity:"",price:"",sdate:"",amount:"",sbad:"",bad:"",bnote:"",volume:"",ntraded:"",oestablished:!1,ocargo:!1,ccargo:!1,bill:!1,cbill:!1,finish:!1,note:""},this.changeStatus(0),this.url="createReports",this.$router.push({name:"PlaceOrder",params:{role:this.GLOBAL.role,user_name:this.GLOBAL.account,token:this.GLOBAL.token}}),this.GLOBAL.setAccount(this.$route.params.user_name),this.GLOBAL.setToken(this.$route.params.token),this.GLOBAL.setRole(this.$route.params.role),this.role=this.$route.params.role,this.user_name=this.$route.params.user_name,this.packageGetData()},selectRole:function(){var e=[];"order"===this.role?e=["2","3","5","7"]:"supplier"===this.role&&(e=["1","4","6","8","9"]),e.forEach((function(e){document.getElementById(e).disabled=!0,document.getElementById(e).style="color: rgb(172, 196, 227); cursor:not-allowed;"}))},changeStatus:function(e){this.state=e;var t=["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","a11","a12","a13","a14","b1","b2","c1","c2","d1","d2","d3","e1","e2","e3","e4","e5","e6"];this.checkDisable.check1=!1,this.checkDisable.check2=!1,this.checkDisable.check3=!1,this.checkDisable.check4=!1,this.checkDisable.check5=!1,this.checkDisable.check6=!1,this.checkDisable.check7=!1,this.checkDisable.check8=!1,t.forEach((function(e){document.getElementById(e).disabled=!1,document.getElementById(e).style="background-color:transparent"}));var r=["1","2","3","4","5","6","7","8","9"];r.forEach((function(e){document.getElementById(e).disabled=!1,document.getElementById(e).style="color:rgb(61, 119, 173); cursor:pointer;"})),this.chageAPI(e),this.initStatus(e),this.buttonDisabled(e)},initStatus:function(e){var t=[];this.selectRole(),1==e?(t=["a2","a9","a10","b1","b2","c1","c2","d1","d2","d3","e1","e2","e3","e4","e5","e6"],this.checkDisable.check1=!0,this.checkDisable.check2=!0,this.checkDisable.check3=!0,this.checkDisable.check4=!0,this.checkDisable.check5=!0,this.checkDisable.check6=!0,this.rule={key:[{required:!0,message:"欄位不可為空！"}],urgent:[{required:!0,message:"欄位不可為空！"}],odate:[{required:!0,message:"欄位不可為空！"}],ddate:[{required:!0,message:"欄位不可為空！"}],purchase:[{required:!0,message:"欄位不可為空！"}],sname:[{required:!0,message:"欄位不可為空！"}],supplier:[{required:!0,message:"欄位不可為空！"}],pname:[{required:!0,message:"欄位不可為空！"}],pquantity:[{required:!0,message:"欄位不可為空！"}],price:[{required:!0,message:"欄位不可為空！"}],note:[{required:!0,message:"欄位不可為空！"}]}):2==e?(t=["a1","a2","a3","a4","a5","a6","a7","a8","a10","a11","a12","a13","a14","b1","b2","c1","c2","d1","d2","d3","e2","e3","e4","e5","e6"],this.checkDisable.check2=!0,this.checkDisable.check3=!0,this.checkDisable.check4=!0,this.checkDisable.check5=!0,this.checkDisable.check6=!0,this.rule={signer:[{required:!0,message:"欄位不可為空！"}],oestablished:[{required:!0,message:"欄位不可為空！"}]}):4==e?(t=["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","a11","a12","a13","a14","c1","c2","e1","e2","e3","e4","e5","e6"],this.checkDisable.check1=!0,this.checkDisable.check2=!0,this.checkDisable.check3=!0,this.checkDisable.check4=!0,this.checkDisable.check5=!0,this.checkDisable.check6=!0,this.rule={sdate:[{required:!0,message:"欄位不可為空！"}],amount:[{required:!0,message:"欄位不可為空！"}],volume:[{required:!0,message:"欄位不可為空！"}],ntraded:[{required:!0,message:"欄位不可為空！"}],sbad:[{required:!0,message:"欄位不可為空！"}]}):5==e?(t=["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","a11","a12","a13","a14","b1","b2","e1","e2","e3","e4","e5","e6"],this.checkDisable.check1=!0,this.checkDisable.check2=!0,this.checkDisable.check3=!0,this.checkDisable.check4=!0,this.checkDisable.check5=!0,this.checkDisable.check6=!0,this.rule={bad:[{required:!0,message:"欄位不可為空！"}],bnote:[{required:!0,message:"欄位不可為空！"}],volume:[{required:!0,message:"欄位不可為空！"}],ntraded:[{required:!0,message:"欄位不可為空！"}],sbad:[{required:!0,message:"欄位不可為空！"}]}):6==e?(t=["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","a11","a12","a13","a14","b1","b2","c1","c2","d1","d2","d3","e1","e3","e4","e5","e6"],this.checkDisable.check1=!0,this.checkDisable.check3=!0,this.checkDisable.check4=!0,this.checkDisable.check5=!0,this.checkDisable.check6=!0,this.rule={}):7==e?(t=["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","a11","a12","a13","a14","b1","b2","c1","c2","d1","d2","d3","e1","e2","e4","e5","e6"],this.checkDisable.check1=!0,this.checkDisable.check2=!0,this.checkDisable.check4=!0,this.checkDisable.check5=!0,this.checkDisable.check6=!0,this.rule={}):8==e?(t=["a1","a2","a3","a4","a5","a6","a7","a8","a9","a11","a12","a13","a14","b1","b2","c1","c2","d1","d2","d3","e1","e2","e3","e5","e6"],this.checkDisable.check1=!0,this.checkDisable.check2=!0,this.checkDisable.check3=!0,this.checkDisable.check5=!0,this.checkDisable.check6=!0,this.rule={invoice:[{required:!0,message:"欄位不可為空！"}]}):9==e?(t=["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","a11","a12","a13","a14","b1","b2","c1","c2","d1","d2","d3","e1","e2","e3","e4","e6"],this.checkDisable.check1=!0,this.checkDisable.check2=!0,this.checkDisable.check3=!0,this.checkDisable.check4=!0,this.checkDisable.check6=!0,this.rule={}):10==e&&(t=["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","a11","a12","a13","a14","b1","b2","c1","c2","d1","d2","d3","e1","e2","e3","e4","e5"],this.checkDisable.check1=!0,this.checkDisable.check2=!0,this.checkDisable.check3=!0,this.checkDisable.check4=!0,this.checkDisable.check5=!0,this.rule={}),this.$nextTick((function(){this.$refs["form"].clearValidate()})),t.forEach((function(e){document.getElementById(e).disabled=!0,document.getElementById(e).style="background-color:#e6ecf5; border-radius: 5px; cursor:not-allowed;"}))},buttonDisabled:function(e){var t=[];1==e?t=["1"]:2==e?t=["1","2"]:4==e?t=["1","2","3"]:5==e?t=["1","2","3","4"]:6==e?t=["1","2","3","4","5"]:7==e?t=["1","2","3","4","5","6"]:8==e?t=["1","2","3","4","5","6","7"]:9==e?t=["1","2","3","4","5","6","7","8"]:10==e&&(t=["1","2","3","4","5","6","7","8","9"]),t.forEach((function(e){document.getElementById(e).disabled=!0,document.getElementById(e).style="color:gray; cursor:not-allowed;"}))},chageAPI:function(e){1==e?this.url="createReports":2==e?this.url="reports/changeSigner":4==e?this.url="reports/changeSdate":5==e?this.url="reports/changeSbad":6==e?this.url="reports/changeOcargo":7==e?this.url="reports/changeCcargo":8==e?this.url="reports/changeInvoice":9==e?this.url="reports/changeCbill":10==e&&(this.url="reports/Finish")},verifyForm:function(){1===this.state?this.form.key&&this.form.urgent&&this.form.odate&&this.form.ddate&&this.form.purchase&&this.form.sname&&this.form.supplier&&this.form.pname&&this.form.pquantity&&this.form.price&&this.form.note||alert("請填寫完全部欄位！"):2===this.state?this.form.signer&&0!=this.form.oestablished||alert("請填寫完全部欄位！"):4===this.state?this.form.sdate&&this.form.amount&&this.form.volume&&this.form.ntraded&&this.form.sbad||alert("請填寫完全部欄位！"):5===this.state?this.form.bad&&this.form.bnote&&this.form.volume&&this.form.ntraded&&this.form.sbad||alert("請填寫完全部欄位！"):6===this.state?0==this.form.ocargo&&alert("請填寫完全部欄位！"):7===this.state?0==this.form.ccargo&&alert("請填寫完全部欄位！"):8===this.state?this.form.invoice&&0!=this.form.bill||alert("請填寫完全部欄位！"):9===this.state?0==this.form.cbill&&alert("請填寫完全部欄位！"):10===this.state&&0==this.form.finish&&alert("請填寫完全部欄位！")},onSubmit:function(){this.verifyForm(),this.packagePostData()},packageGetData:function(){var e=this;return Object(f["a"])(Object(p["a"])().mark((function t(){var r,a,s,o;return Object(p["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.done=[],e.undone=[],r="reports",a={username:e.user_name},t.next=6,e.$POST(r,a);case 6:for(o in s=t.sent,console.log(s),s.report)console.log(o),e.strToBool(s.report[o]),!0===s.report[o].finish?e.done.push(s.report[o]):e.undone.push(s.report[o]);case 9:case"end":return t.stop()}}),t)})))()},packagePostData:function(){var e=this;return Object(f["a"])(Object(p["a"])().mark((function t(){var r,a;return Object(p["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={username:e.user_name,report:e.form},e.boolToStr(),t.next=4,e.$POST(e.url,r);case 4:a=t.sent,1==a.status&&alert("訂單儲存成功！"),e.$router.push({name:"PlaceOrder",params:{role:e.GLOBAL.role,user_name:e.GLOBAL.account,token:e.GLOBAL.token}}),e.GLOBAL.setAccount(e.$route.params.user_name),e.GLOBAL.setToken(e.$route.params.token),e.GLOBAL.setRole(e.$route.params.role),e.role=e.$route.params.role,e.user_name=e.$route.params.user_name,e.packageGetData();case 13:case"end":return t.stop()}}),t)})))()}},created:function(){this.packageGetData()},mounted:function(){this.selectRole()}}),k=b,v=(r("ed1b"),Object(n["a"])(k,m,d,!1,null,"6b61cc0c",null)),g=v.exports,y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("router-view"),r("div",{staticClass:"banner"},[r("img",{staticClass:"logo",staticStyle:{width:"300px"},attrs:{src:e.logo}}),r("router-link",{attrs:{to:"/login"}},[r("el-button",[e._v("登入/註冊")])],1)],1),r("el-carousel",{attrs:{height:"250px"}},e._l(e.title,(function(t,a){return r("el-carousel-item",{key:a},[r("img",{staticStyle:{height:"200px"},attrs:{src:t.svg}}),r("h1",[e._v(e._s(t.text))])])})),1),r("div",{staticClass:"login"},[e._t("default")],2)],1)},x=[],D=r("1b42"),_=r.n(D),w=r("3e23"),O=r.n(w),$=r("89b4"),S=r.n($),L=r("1550"),j=r.n(L),B={name:"Home",data:function(){return{title:[{svg:O.a,text:"幫您更安全地管理訂單"},{svg:S.a,text:"輕鬆管理訂單系統"},{svg:j.a,text:"oooooooooooooooo"}],logo:_.a}}},C=B,q=(r("454e"),Object(n["a"])(C,y,x,!1,null,"4cce5fb9",null)),A=q.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Home",[r("el-form",{ref:"form",attrs:{size:"mini",model:e.form,"label-width":"60px"}},[r("el-form-item",{attrs:{label:"帳號"}},[r("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("el-form-item",{attrs:{label:"密碼"}},[r("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("el-form-item",{staticClass:"send"},[r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.submit()}}},[e._v("送出")])],1),r("el-form-item",{staticClass:"regi"},[r("router-link",{attrs:{to:"/register"}},[r("el-button",{staticStyle:{color:"rgb(26, 54, 90)"},attrs:{type:"text"}},[e._v("還沒有帳號嗎？點選這裡")])],1)],1),r("el-form-item",[r("p",{attrs:{id:"hide"}},[e._v("帳號或密碼錯誤！")])])],1)],1)},G=[],P={components:{Home:A},data:function(){return{form:{username:"",password:""}}},methods:{submit:function(){var e=this;return Object(f["a"])(Object(p["a"])().mark((function t(){var r,a,s;return Object(p["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="login",a=e.form,t.next=4,e.$POST(r,a);case 4:s=t.sent,!0===s.status?(e.GLOBAL.setAccount(e.form.username),e.GLOBAL.setToken(s.token),e.GLOBAL.setRole(s.role),e.$router.push({path:"/placeorder"})):document.getElementById("hide").style="display: block;";case 6:case"end":return t.stop()}}),t)})))()}}},T=P,R=(r("cdd0"),Object(n["a"])(T,E,G,!1,null,"bbad692c",null)),I=R.exports,H=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"form",attrs:{size:"medium",model:e.form,"label-width":"100px"}},[r("h2",[e._v("註冊")]),r("el-form-item",{attrs:{label:"請輸入帳號"}},[r("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("el-form-item",{attrs:{label:"請輸入密碼"}},[r("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("el-form-item",{attrs:{label:"身份"}},[r("el-radio",{attrs:{label:"supplier"},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},[e._v("供應商")]),r("el-radio",{attrs:{label:"order"},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},[e._v("下單者")])],1),r("el-form-item",{staticClass:"send"},[r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.submit()}}},[e._v("送出")])],1),r("el-form-item",{staticClass:"regi"},[r("router-link",{attrs:{to:"/login"}},[r("el-button",{staticStyle:{color:"rgb(26, 54, 90)"},attrs:{type:"text"}},[e._v("已經有帳號？點選這裡")])],1)],1)],1)},z=[],U={data:function(){return{form:{username:"",password:"",role:""}}},methods:{submit:function(){var e="register",t=this.form,r=this.$POST(e,t);console.log(r),console.log(r.reports),this.GLOBAL.setAccount(this.form.username),this.GLOBAL.setToken(r.token),this.GLOBAL.setRole(r.role),this.$router.push({path:"/placeOrder"})}}},M=U,F=(r("f498"),Object(n["a"])(M,H,z,!1,null,"f9a5cbe4",null)),W=F.exports;a["default"].use(h["a"]);var J=[{path:"/placeOrder",name:"PlaceOrder",component:g},{path:"/",name:"Home",component:A},{path:"/login",name:"Login",component:I},{path:"/register",name:"Register",component:W}],V=new h["a"]({mode:"history",base:"/",routes:J}),K=V,N=r("5c96"),Q=r.n(N),X=(r("c69f"),r("c87b")),Y=r.n(X);a["default"].use(Q.a,{locale:Y.a});var Z=r("bc3a"),ee=r.n(Z),te=r("130e"),re="http://192.168.10.50:8888/",ae=ee.a.create({baseURL:"".concat(re),headers:{"Content-Type":"application/json",accept:"application/json"}});function se(e,t){return oe.apply(this,arguments)}function oe(){return oe=Object(f["a"])(Object(p["a"])().mark((function e(t,r){var a;return Object(p["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.get(t,r);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),oe.apply(this,arguments)}function ce(e,t){return ie.apply(this,arguments)}function ie(){return ie=Object(f["a"])(Object(p["a"])().mark((function e(t,r){var a;return Object(p["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.post(t,r);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ie.apply(this,arguments)}function ne(e,t){return le.apply(this,arguments)}function le(){return le=Object(f["a"])(Object(p["a"])().mark((function e(t,r){var a;return Object(p["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.put(t,r);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),le.apply(this,arguments)}var ue,he,me="",de="",pe=0,fe="",be="",ke={account:me,password:de,identity:pe,token:fe,role:be,setAccount:function(e){this.account=e,console.log(this.account)},setToken:function(e){this.token=e,console.log(this.token)},setRole:function(e){this.role=e,console.log(this.role)}},ve=ke,ge=Object(n["a"])(ve,ue,he,!1,null,null,null),ye=ge.exports;a["default"].prototype.$GET=se,a["default"].prototype.$POST=ce,a["default"].prototype.$PUT=ne,a["default"].prototype.GLOBAL=ye,a["default"].config.productionTip=!1,a["default"].use(te["a"],ee.a),new a["default"]({router:K,render:function(e){return e(u)}}).$mount("#app")},"89b4":function(e,t,r){e.exports=r.p+"img/2.500d523f.svg"},9208:function(e,t,r){},9628:function(e,t,r){},c119:function(e,t,r){},c69f:function(e,t,r){},cdd0:function(e,t,r){"use strict";r("c119")},ed1b:function(e,t,r){"use strict";r("9628")},f498:function(e,t,r){"use strict";r("046c")}});
//# sourceMappingURL=app.d2f8b50f.js.map